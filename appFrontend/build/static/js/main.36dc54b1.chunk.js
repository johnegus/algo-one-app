(this["webpackJsonpredux-based-pokedex"]=this["webpackJsonpredux-based-pokedex"]||[]).push([[0],{165:function(e,t,a){e.exports=a(349)},170:function(e,t,a){},349:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=(a(170),a(3)),l=a(9),u=a(24),s=a(42),m=a(4),d=a.n(m),f=a(8),p=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_IMAGE_URL||"http://localhost:8000",b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BASEURL||"".concat(p,"/api"),h=function(e){return{type:"SET_CURRENT_USER",id:e}},E=function(e){return{type:"SET_TOKEN",token:e}},v=function(e,t){return function(){var a=Object(f.a)(d.a.mark((function a(n){var r,c,o,i;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(b,"/session"),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});case 2:if(!(r=a.sent).ok){a.next=12;break}return a.next=6,r.json();case 6:c=a.sent,o=c.token,i=c.user.id,window.localStorage.setItem("TOKEN_KEY",o),n(E(o)),n(h(i));case 12:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a){var n,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(b,"/users"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(!(n=t.sent).ok){t.next=10;break}return t.next=6,n.json();case 6:r=t.sent,c=r.token,window.localStorage.setItem("TOKEN_KEY",c),a(E(c));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=a(112),y=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return!0===a.needLogin?r.a.createElement(s.a,{to:"/login"}):r.a.createElement(t,e)}}))},g=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return!0!==a.needLogin?r.a.createElement(s.a,{to:"/"}):r.a.createElement(t,e)}}))},k=a(82),S=a.n(k),w=function(e){var t=Object(n.useState)("demo@example.com"),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)("password"),m=Object(i.a)(s,2),p=m[0],b=m[1],h=Object(l.b)(),E=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),h(v(c,p));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"centered middled"},r.a.createElement("img",{src:S.a,alt:"img"}),r.a.createElement("form",{onSubmit:E},r.a.createElement("input",{type:"text",placeholder:"Email",value:c,onChange:function(e){o(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Password",value:p,onChange:function(e){b(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Login"),r.a.createElement(u.b,{to:"/signup"},r.a.createElement("button",{type:"button"},"Sign Up"))))},N=function(){var e=Object(l.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"logout-button-holder"},r.a.createElement(u.b,{to:"/"},r.a.createElement("button",{type:"button"},"Profile")),r.a.createElement("button",{onClick:function(){e(function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.authentication.token,e.next=3,fetch("".concat(b,"/session"),{method:"delete",headers:{Authorization:"Bearer ".concat(r)}});case 3:e.sent.ok&&(window.localStorage.removeItem("TOKEN_KEY"),t({type:"REMOVE_TOKEN"}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}},"Logout")))},x=a(147),P=a.n(x),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.polygon.io/",t=P.a.create({baseURL:e,timeout:5e3}),a={apiKey:"VkrkWBmpkEzcfu554MV9td_zILRqS2w8"},n=function(e){return t.get("https://api.polygon.io/v1/meta/symbols/".concat(e,"/news?perpage=10&page=1&apiKey=").concat(a.apiKey))};return{getQuote:n}},T=a(37),F=function(e){return{type:"LOAD",list:e}},_=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/positions"),{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(e)});case 3:t.sent.ok&&(a(A()),a({type:"HIDE_FORM"}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},A=function(){return function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.authentication.token,e.next=3,fetch("".concat(b,"/positions"),{headers:{Authorization:"Bearer ".concat(r)}});case 3:if(!(c=e.sent).ok){e.next=9;break}return e.next=7,c.json();case 7:o=e.sent,t(F(o));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/positions/").concat(e),{method:"delete",headers:{Authorization:"Bearer ".concat(c)}});case 3:t.sent.ok&&(a(A()),window.location.replace("/"));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},L=function(e){return{type:"LOAD_HISTORY",historyList:e}},I=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/history"),{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(e)});case 3:t.sent.ok&&a(R());case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},R=function(){return function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.authentication.token,e.next=3,fetch("".concat(b,"/history"),{headers:{Authorization:"Bearer ".concat(r)}});case 3:if(!(c=e.sent).ok){e.next=9;break}return e.next=7,c.json();case 7:o=e.sent,t(L(o));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},W=a(350),B=function(e){return{type:"SET_CURRENT",current:e}},H=function(e){var t=e.positions,a=e.getOnePosition,c=e.createPosition,o=e.createInstance,u=Object(n.useState)([]),m=Object(i.a)(u,2),p=m[0],b=m[1],h=Object(n.useState)(!0),E=Object(i.a)(h,2),v=E[0],O=E[1],j=Object(n.useState)([]),y=Object(i.a)(j,2),g=y[0],k=y[1],S=Object(n.useState)([]),w=Object(i.a)(S,2),N=w[0],x=w[1],P=Object(n.useState)(""),F=Object(i.a)(P,2),_=F[0],A=F[1],L=Object(n.useState)(""),I=Object(i.a)(L,2),R=I[0],B=I[1],H=Object(n.useState)(""),K=Object(i.a)(H,2),M=K[0],U=K[1],z=Object(n.useState)(""),V=Object(i.a)(z,2),$=V[0],Q=V[1],Y=Object(n.useState)(""),q=Object(i.a)(Y,2),J=q[0],X=q[1],Z=Object(n.useState)(""),G=Object(i.a)(Z,2),ee=G[0],te=G[1],ae=Object(n.useState)(""),ne=Object(i.a)(ae,2),re=ne[0],ce=ne[1],oe=Object(n.useState)(""),ie=Object(i.a)(oe,2),le=ie[0],ue=ie[1],se=Object(n.useState)(""),me=Object(i.a)(se,2),de=me[0],fe=me[1],pe=Object(l.b)(),be=Object(s.g)().id;if(Object(n.useEffect)((function(){a(be)}),[be]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",a=t.stockSymbol,n="https://financialmodelingprep.com/api/v3/profile/".concat(a,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),fetch(n).then((function(e){return e.json()})).then((function(e){B(e[0].companyName),te(e[0].description),ue(e[0].exchangeShortName),ce(e[0].image)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C().getQuote(t.stockSymbol).then((function(e){e.ok&&b(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){var a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",a=t.stockSymbol,n="https://financialmodelingprep.com/api/v3/historical-chart/5min/".concat(a,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),r=[],c=[],fetch(n).then((function(e){return e.json()})).then((function(e){for(var a in console.log("FMP Historical data Position"),console.log(e),A(t.stockSymbol),e)r.push(a),c.push(e[a].open);O(!1),k(r),x(c),U(parseFloat(N[0]).toFixed(2)),fe(parseFloat(N[0]).toFixed(2))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),!t)return null;if(v)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"centered middled"},r.a.createElement("b",null,"Fetching market data..."),r.a.createElement(W.a,null)));var he,Ee={labels:g,datasets:[{label:t.stockSymbol,data:N,fill:!1,backgroundColor:N[0]>N[99]?"green":"red",borderColor:N[0]>N[99]?"green":"red"}]},ve=function(){var e=Object(f.a)(d.a.mark((function e(a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("symbol: "+_),console.log("company: "+R),console.log("sellprice: "+de),n=t.buyPrice,console.log("boughtprice: "+n),r=t.shares,console.log("shares: "+r),o({stockSymbol:_,stockName:R,soldPrice:de,boughtPrice:n,shares:r}),pe(D(t.id));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=N[0]>N[99]?"background":"background2";return r.a.createElement("div",{className:"pokemon-detail"},r.a.createElement("div",{className:"pokemon-detail-image-".concat(Oe)},r.a.createElement("div",{className:"header-element"},r.a.createElement("div",{className:"company-logo"},r.a.createElement("img",{src:re,alt:"Company Logo"})),r.a.createElement("div",{className:"company-titles"},r.a.createElement("h1",{className:"bigger"},t.stockSymbol),r.a.createElement("h1",{className:"bigger"},R),r.a.createElement("h1",{className:"bigger"},"$",parseFloat(N[0]).toFixed(2))))),r.a.createElement("div",{className:"pokemon-detail-lists"},r.a.createElement("div",null,r.a.createElement(T.Line,{data:Ee,options:{legend:{display:!0},elements:{point:{radius:0}},scales:{yAxes:[{ticks:{beginAtZero:!1}}],xAxes:[{display:!1,ticks:{reverse:!0}}]}}})),r.a.createElement("div",null,r.a.createElement("h2",null,"Your Position"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Shares:")," ",t.shares),r.a.createElement("li",null,r.a.createElement("b",null,"Average Cost:")," $",t.buyPrice),r.a.createElement("li",null,r.a.createElement("b",null,"Date Purchased:")," ",t.createdAt),r.a.createElement("li",null,r.a.createElement("b",null,"Market Value:")," $",(t.shares*M).toFixed(2)),r.a.createElement("li",null,r.a.createElement("b",null,"Total Return:")," $",(t.shares*M-t.shares*t.buyPrice).toFixed(2))),r.a.createElement("h2",null,"Buy More"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),Q(parseFloat(N[0]).toFixed(2)),c({stockSymbol:_,stockName:R,currentPrice:M,buyPrice:$,shares:J})}},r.a.createElement("input",{type:"number",placeholder:"Shares",required:!0,value:J,onChange:(he=X,function(e){he(e.target.value)})}),isNaN(M)?"Failed to fetch current price":r.a.createElement("button",{type:"submit"},"Buy Shares!")),isNaN(M)?"Failed to fetch current price":r.a.createElement("button",{onClick:ve},"Exit Position"))),r.a.createElement("div",{className:"newsFeed"},r.a.createElement("h2",null,"Stock Information"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Symbol")," ",_),r.a.createElement("li",null,r.a.createElement("b",null,"Stock Name")," ",R),r.a.createElement("li",null,r.a.createElement("b",null,"Current Price")," $",parseFloat(N[0]).toFixed(2)),r.a.createElement("li",null,r.a.createElement("b",null,"Exchange")," ",le),r.a.createElement("li",null,r.a.createElement("b",null,"Company Description")," ",ee)),r.a.createElement("h2",null,"News"),p.map((function(e){return r.a.createElement("div",{className:"newsContainer",key:e.timestamp},r.a.createElement("div",{className:"newsTitle"},r.a.createElement("a",{className:"newsLink",href:e.url},e.title)),r.a.createElement("div",{className:"newsSummary"},e.summary),r.a.createElement("img",{height:"100%",width:"100%",src:e.image,alt:"news"}))}))))},K=function(){var e=Object(l.c)((function(e){return e.positions[e.currentPosition]})),t=Object(l.c)((function(e){return Object.values(e.history)})),a=Object(l.b)();return r.a.createElement(H,{positions:e,history:t,getOnePosition:function(e){return a(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/positions/").concat(e),{headers:{Authorization:"Bearer ".concat(c)}});case 3:if(!(o=t.sent).ok){t.next=9;break}return t.next=7,o.json();case 7:i=t.sent,a(B(i));case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))},exitPosition:function(e){return a(D(e))},createPosition:function(e){return a(_(e))},createInstance:function(e){return a(I(e))}})},M=function(e){return{type:"LOAD_WATCHED",watchedList:e}},U=function(){return function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.authentication.token,e.next=3,fetch("".concat(b,"/watchlist"),{headers:{Authorization:"Bearer ".concat(r)}});case 3:if(!(c=e.sent).ok){e.next=9;break}return e.next=7,c.json();case 7:o=e.sent,t(M(o));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/watchlist/").concat(e),{method:"delete",headers:{Authorization:"Bearer ".concat(c)}});case 3:t.sent.ok&&(a(U()),window.location.replace("/"));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},V=a(398),$=a(401),Q=a(397),Y=a(399),q=a(400),J=a(395);var X=function(e){return n.createElement(J.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)},Z=a(148),G=function(e){var t=e.positions,a=e.history,c=e.getPositions,o=e.getHistoricalData,l=Object(n.useState)([]),u=Object(i.a)(l,2),s=u[0],m=u[1];Object(n.useEffect)((function(){c()}),[]),Object(n.useEffect)((function(){o()}),[]),Object(n.useEffect)((function(){if(a){!function(){var e=a.map((function(e){return{id:e.id,date:e.createdAt,transaction:e.deposit>0?"DEPOSIT: $"+e.deposit:0!==e.shares?"SELL":"WITHDRAWAL: $"+e.deposit,symbol:e.stockSymbol?e.stockSymbol:"",companyName:e.stockName,shares:e.shares,purchasePrice:e.boughtPrice,currentPrice:e.soldPrice,percentChange:(e.soldPrice*e.shares-e.boughtPrice*e.shares).toFixed(2)}}));m(e)}()}}),[a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null,"Portfolio Assets"),r.a.createElement(V.a,{size:"small"},r.a.createElement(Y.a,null,r.a.createElement(q.a,null,r.a.createElement(Q.a,null,"Purchase Date"),r.a.createElement(Q.a,null,"Symbol"),r.a.createElement(Q.a,null,"Company Name"),r.a.createElement(Q.a,null,"Shares"),r.a.createElement(Q.a,null,"Purchase Price"),r.a.createElement(Q.a,null,"Current Price $"),r.a.createElement(Q.a,{align:"right"},"Total Value"))),r.a.createElement($.a,null,t.map((function(e){return r.a.createElement(q.a,{key:e.id},r.a.createElement(Q.a,null,e.createdAt),r.a.createElement(Q.a,null,e.stockSymbol.toUpperCase()),r.a.createElement(Q.a,null,e.stockName),r.a.createElement(Q.a,null,e.shares),r.a.createElement(Q.a,null,"$",e.buyPrice),r.a.createElement(Q.a,null,"$".concat(e.currentPrice)),r.a.createElement(Q.a,{align:"right"},"$",(e.shares*e.currentPrice).toFixed(2)))})))),r.a.createElement(X,null,"Portfolio History"),r.a.createElement("div",{style:{height:1e3,width:"100%"}},r.a.createElement(Z.a,{rows:s,columns:[{field:"date",headerName:"Date",width:130},{field:"transaction",headerName:"Transaction",width:130},{field:"symbol",headerName:"Symbol",width:90},{field:"companyName",headerName:"Company Name",width:130},{field:"shares",headerName:"Shares",type:"number",width:90},{field:"purchasePrice",headerName:"Purchase Price",type:"number",width:90},{field:"currentPrice",headerName:"Sell Price",type:"number",width:90},{field:"percentChange",headerName:"Profit",type:"number",width:130}],pageSize:20,checkboxSelection:!0})))},ee=function(){var e=Object(l.c)((function(e){return Object.values(e.positions)})),t=Object(l.c)((function(e){return Object.values(e.history)})),a=Object(l.b)();return r.a.createElement(G,{positions:e,history:t,getPositions:function(){return a(A())},getHistoricalData:function(){return a(R())}})},te=a(155),ae=Object(te.a)({depositContext:{flex:1}});function ne(e){var t=e.getHistoricalData,a=e.history,c=ae(),o=(new Date).getFullYear(),i=(new Date).getMonth()+1,u=(new Date).getDate(),s=Object(l.b)();Object(n.useEffect)((function(){t()}),[]);var m=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1e4,a={deposit:1e4},e.next=4,s(I(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return-1e4,a={deposit:-1e4},e.next=4,s(I(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=a.reduce((function(e,t){return e+parseFloat(t.deposit)}),0).toFixed(2);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"userHeader"},r.a.createElement(X,null,"Portfolio Value"),r.a.createElement(J.a,{component:"p",variant:"h4"},"$",a.reduce((function(e,t){return e+t.soldPrice*t.shares-t.boughtPrice*t.shares}),parseFloat(b)).toFixed(2)),r.a.createElement(J.a,{color:"textSecondary",className:c.depositContext},"on ",i+"/"+u+"/"+o),r.a.createElement("div",null,r.a.createElement("button",{onClick:m},"Deposit $10000"),r.a.createElement("button",{onClick:p},"Withdrawal $10000"))))}var re=function(){var e=Object(l.c)((function(e){return Object.values(e.history)})),t=Object(l.b)();return r.a.createElement(ne,{history:e,getHistoricalData:function(){return t(R())}})},ce=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!0),u=Object(i.a)(l,2),s=u[0],m=u[1];Object(n.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C().getQuote("SPY").then((function(e){e.ok&&(m(!1),o(e.data))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){if(s)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"centered middled"},r.a.createElement("b",null,"Fetching market data..."),r.a.createElement(W.a,null)))};return r.a.createElement("div",null,r.a.createElement("h2",null,"News"),p,c===[]?"You have reached your news fetch limit, try again later.":r.a.createElement("div",null,c.map((function(e){return r.a.createElement("div",{className:"newsContainer",key:e.timestamp},r.a.createElement("div",{className:"newsTitle"},r.a.createElement("a",{className:"newsLink",href:e.url},e.title)),r.a.createElement("div",{className:"newsSummary"},e.summary),r.a.createElement("img",{height:"100%",width:"100%",src:e.image,alt:"news"}))}))))},oe=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!0),u=Object(i.a)(l,2),s=u[0],m=u[1];Object(n.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",t="https://financialmodelingprep.com/api/v3/gainers?apikey=".concat("f04ddc95561236e9dccd1ffa355ad55b"),fetch(t).then((function(e){return e.json()})).then((function(e){m(!1),o(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){if(s)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"centered middled"},r.a.createElement("b",null,"Fetching market data..."),r.a.createElement(W.a,null)))};return r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"green"}},"Top Gainers"),p,c.slice(0,5).map((function(e){return r.a.createElement("div",{className:"moversContainer",key:e.ticker},r.a.createElement("div",{className:"newsTitle"},e.ticker,r.a.createElement("div",null,e.companyName)),r.a.createElement("div",{className:"newsSummary"},e.price," +",e.changes,"  ",r.a.createElement("span",{style:{color:"green"}},e.changesPercentage)))})))},ie=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!0),u=Object(i.a)(l,2),s=u[0],m=u[1];Object(n.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",t="https://financialmodelingprep.com/api/v3/losers?limit=10&apikey=".concat("f04ddc95561236e9dccd1ffa355ad55b"),fetch(t).then((function(e){return e.json()})).then((function(e){m(!1),o(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){if(s)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"centered middled"},r.a.createElement("b",null,"Fetching market data..."),r.a.createElement(W.a,null)))};return r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"red"}},"Top Losers"),p,c.slice(0,5).map((function(e){return r.a.createElement("div",{className:"moversContainer",key:e.ticker},r.a.createElement("div",{className:"newsTitle"},e.ticker,r.a.createElement("div",null,e.companyName)),r.a.createElement("div",{className:"newsSummary"},e.price," ",e.changes,"  ",r.a.createElement("span",{style:{color:"red"}},e.changesPercentage)))})))},le=function(e){var t=e.getHistoricalData,a=e.history,c=e.positions,o=e.getPositions,l=Object(n.useState)([]),u=Object(i.a)(l,2),s=u[0],m=u[1],p=Object(n.useState)([]),b=Object(i.a)(p,2),h=b[0],E=b[1];Object(n.useEffect)((function(){o()}),[]),Object(n.useEffect)((function(){t()}),[]),Object(n.useEffect)((function(){if(a){var e=[],t=[],n=0,r=function(){var r=Object(f.a)(d.a.mark((function r(){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a.map((function(a){t.push(n+=parseInt(a.deposit)+parseInt(a.soldPrice)*parseInt(a.shares)-parseInt(a.boughtPrice)*parseInt(a.shares)),e.push(a.createdAt)}));case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();m(e),E(t),r()}}),[a]);var v=a.reduce((function(e,t){return e+parseFloat(t.deposit)}),0).toFixed(2),O=a.reduce((function(e,t){return e+t.soldPrice*t.shares-t.boughtPrice*t.shares}),parseFloat(v)).toFixed(2),j=c.reduce((function(e,t){return e+t.currentPrice*t.shares}),0).toFixed(2),y={datasets:[{data:[O-j,j],backgroundColor:[O-j>0?"green":"red","orange"],borderColor:[O-j>0?"green":"red","orange"],borderWidth:5}],labels:["Cash","Assets"]},g={labels:s,datasets:[{label:"Portfolio Value",data:h,fill:!1,backgroundColor:h[0]<h[h.length-1]?"green":"red",borderColor:h[0]<h[h.length-1]?"green":"red"}]};return r.a.createElement("div",{className:"pokemon-detail"},r.a.createElement("div",{className:"pokemon-detail-image-background"},r.a.createElement("div",null,r.a.createElement("h1",{className:"bigger"},"Welcome to Algo"))),r.a.createElement("div",null,r.a.createElement(re,null)),r.a.createElement("div",{className:"user-detail"},r.a.createElement("div",{className:"user-detail-chart"},r.a.createElement(T.Line,{data:g,options:{legend:{display:!0},elements:{point:{radius:0}},scales:{yAxes:[{ticks:{beginAtZero:!1}}],xAxes:[{display:!1}]}}})),r.a.createElement("div",{className:"doughnut"},r.a.createElement(T.Doughnut,{data:y,options:{responsive:!0}})),r.a.createElement("div",{className:"user-data-tables"},r.a.createElement(ee,null)),r.a.createElement("div",{className:"infoGrid__userNews"},r.a.createElement(ce,null)),r.a.createElement("div",{className:"infogrid__movers"},r.a.createElement(oe,null),r.a.createElement(ie,null))))},ue=function(){var e=Object(l.c)((function(e){return Object.values(e.positions)})),t=Object(l.c)((function(e){return Object.values(e.history)})),a=Object(l.b)();return r.a.createElement(le,{history:t,positions:e,getPositions:function(){return a(A())},getHistoricalData:function(){return a(R())}})},se=function(e){return{type:"SET_CURRENT_WATCHED_STOCK",current:e}},me=function(e){var t=e.watchedStocks,a=e.getOneWatchedStock,c=e.createPosition,o=Object(n.useState)([]),l=Object(i.a)(o,2),u=l[0],m=l[1],p=Object(n.useState)(!0),b=Object(i.a)(p,2),h=b[0],E=b[1],v=Object(n.useState)([]),O=Object(i.a)(v,2),j=O[0],y=O[1],g=Object(n.useState)([]),k=Object(i.a)(g,2),S=k[0],w=k[1],N=Object(n.useState)(""),x=Object(i.a)(N,2),P=x[0],F=x[1],_=Object(n.useState)(""),A=Object(i.a)(_,2),D=A[0],L=A[1],I=Object(n.useState)(""),R=Object(i.a)(I,2),B=R[0],H=R[1],K=Object(n.useState)(""),M=Object(i.a)(K,2),U=M[0],z=M[1],V=Object(n.useState)(""),$=Object(i.a)(V,2),Q=$[0],Y=$[1],q=Object(n.useState)(""),J=Object(i.a)(q,2),X=J[0],Z=J[1],G=Object(n.useState)(""),ee=Object(i.a)(G,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(i.a)(ne,2),ce=re[0],oe=re[1],ie=Object(s.g)().id;if(Object(n.useEffect)((function(){a(ie)}),[ie]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",a=t.stockSymbol,n="https://financialmodelingprep.com/api/v3/profile/".concat(a,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),fetch(n).then((function(e){return e.json()})).then((function(e){L(e[0].companyName),Z(e[0].description),oe(e[0].exchangeShortName),ae(e[0].image)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C().getQuote(t.stockSymbol).then((function(e){e.ok&&m(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){var a,n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",a=t.stockSymbol,n="https://financialmodelingprep.com/api/v3/historical-chart/5min/".concat(a,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),r=[],c=[],fetch(n).then((function(e){return e.json()})).then((function(e){for(var a in F(t.stockSymbol),e)r.push(a),c.push(e[a].open);E(!1),y(r),w(c),H(parseFloat(S[0]).toFixed(2)),z(parseFloat(S[0]).toFixed(2))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),!t)return null;if(h)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"centered middled"},r.a.createElement("b",null,"Fetching market data..."),r.a.createElement(W.a,null)));var le,ue={labels:j,datasets:[{label:t.stockSymbol,data:S,fill:!1,backgroundColor:S[0]>S[99]?"green":"red",borderColor:S[0]>S[99]?"green":"red"}]},se=S[0]>S[99]?"background":"background2";return r.a.createElement("div",{className:"pokemon-detail"},r.a.createElement("div",{className:"pokemon-detail-image-".concat(se)},r.a.createElement("div",{className:"header-element"},r.a.createElement("div",{className:"company-logo"},r.a.createElement("img",{src:te,alt:"Company Logo"})),r.a.createElement("div",{className:"company-titles"},r.a.createElement("h1",{className:"bigger"},t.stockSymbol),r.a.createElement("h1",{className:"bigger"},D),r.a.createElement("h1",{className:"bigger"},"$",parseFloat(S[0]).toFixed(2))))),r.a.createElement("div",{className:"pokemon-detail-lists"},r.a.createElement("div",null,r.a.createElement(T.Line,{data:ue,options:{legend:{display:!0},elements:{point:{radius:0}},scales:{yAxes:[{ticks:{beginAtZero:!1}}],xAxes:[{display:!1,ticks:{reverse:!0}}]}}})),r.a.createElement("div",null,r.a.createElement("h2",null,"Buy"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c({stockSymbol:P,stockName:D,currentPrice:B,buyPrice:U,shares:Q})}},r.a.createElement("input",{type:"number",placeholder:"Shares",required:!0,value:Q,onChange:(le=Y,function(e){le(e.target.value)})}),isNaN(B)?"Failed to fetch current price":r.a.createElement("button",{type:"submit"},"Buy Shares!")))),r.a.createElement("div",{className:"newsFeed"},r.a.createElement("h2",null,"Stock Information"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Symbol")," ",P),r.a.createElement("li",null,r.a.createElement("b",null,"Stock Name")," ",D),r.a.createElement("li",null,r.a.createElement("b",null,"Current Price")," $",parseFloat(S[0]).toFixed(2)),r.a.createElement("li",null,r.a.createElement("b",null,"Exchange")," ",ce),r.a.createElement("li",null,r.a.createElement("b",null,"Company Description")," ",X)),r.a.createElement("h2",null,"News"),u.map((function(e){return r.a.createElement("div",{className:"newsContainer",key:e.timestamp},r.a.createElement("div",{className:"newsTitle"},r.a.createElement("a",{className:"newsLink",alt:"news",href:e.url},e.title)),r.a.createElement("div",{className:"newsSummary"},e.summary),r.a.createElement("img",{height:"100%",width:"100%",src:e.image}))}))))},de=function(){var e=Object(l.c)((function(e){return e.positions[e.currentPosition]})),t=Object(l.b)(),a=Object(l.c)((function(e){return e.watchedStocks[e.currentWatchedStock]}));return r.a.createElement(me,{watchedStocks:a,positions:e,getOneWatchedStock:function(e){return t(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(a,n){var r,c,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.authentication.token,t.next=3,fetch("".concat(b,"/watchlist/").concat(e),{headers:{Authorization:"Bearer ".concat(c)}});case 3:if(!(o=t.sent).ok){t.next=9;break}return t.next=7,o.json();case 7:i=t.sent,a(se(i));case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))},createPosition:function(e){return t(_(e))}})},fe=Object(n.createContext)(),pe=function(e){var t=e.createPosition,a=e.createWatchedStock,c=Object(n.useContext)(fe),o=Object(n.useState)(!0),l=Object(i.a)(o,2),u=l[0],s=l[1],m=Object(n.useState)([]),p=Object(i.a)(m,2),b=p[0],h=p[1],E=Object(n.useState)([]),v=Object(i.a)(E,2),O=v[0],j=v[1],y=Object(n.useState)(""),g=Object(i.a)(y,2),k=g[0],S=g[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),x=N[0],P=N[1],C=Object(n.useState)(""),F=Object(i.a)(C,2),_=F[0],A=F[1],D=Object(n.useState)(""),L=Object(i.a)(D,2),I=L[0],R=L[1],B=Object(n.useState)(""),H=Object(i.a)(B,2),K=H[0],M=H[1],U=Object(n.useState)(""),z=Object(i.a)(U,2),V=z[0],$=z[1];if(Object(n.useEffect)((function(){c.searchQuery&&function(){var e=Object(f.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",t=c.searchQuery,a="https://financialmodelingprep.com/api/v3/profile/".concat(t,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),fetch(a).then((function(e){return e.json()})).then((function(e){P(e[0].companyName),S(t),$(e[0].exchangeShortName)})).catch((function(e){return S("INVALID SYMBOL")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c.searchQuery]),Object(n.useEffect)((function(){c.searchQuery&&function(){var e=Object(f.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"f04ddc95561236e9dccd1ffa355ad55b",t=c.searchQuery,a="https://financialmodelingprep.com/api/v3/historical-chart/5min/".concat(t,"?apikey=").concat("f04ddc95561236e9dccd1ffa355ad55b"),n=[],r=[],fetch(a).then((function(e){return e.json()})).catch((function(e){return S("INVALID SYMBOL")})).then((function(e){for(var t in e)n.push(t),r.push(e[t].open);s(!1),h(n),j(r),A(parseFloat(O[0]).toFixed(2)),R(parseFloat(O[0]).toFixed(2))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c.searchQuery]),!c.searchQuery)return null;if(u)return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,r.a.createElement(W.a,null)));var Q,Y={labels:b,datasets:[{label:c.searchQuery,data:O,fill:!1,backgroundColor:O[0]>O[99]?"green":"red",borderColor:O[0]>O[99]?"green":"red"}]};return r.a.createElement("div",{className:"pokemon-detail"},r.a.createElement(T.Line,{data:Y,options:{elements:{point:{radius:0}},scales:{yAxes:[{ticks:{beginAtZero:!1}}],xAxes:[{display:!1,ticks:{reverse:!0}}]}}}),"INVALID SYMBOL"!==k?r.a.createElement("div",{className:"pokemon-detail-lists"},r.a.createElement("div",null,r.a.createElement("h4",null,"Stock Information"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Symbol")," ",k),r.a.createElement("li",null,r.a.createElement("b",null,"Stock Name")," ",x),r.a.createElement("li",null,r.a.createElement("b",null,"Current Price")," $",parseFloat(O[0]).toFixed(2)),r.a.createElement("li",null,r.a.createElement("b",null,"Exchange")," ",V))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(k),console.log(x),console.log(_),console.log(I),console.log(K),t({stockSymbol:k,stockName:x,currentPrice:_,buyPrice:I,shares:K})}},r.a.createElement("input",{type:"number",placeholder:"Shares",required:!0,value:K,onChange:(Q=M,function(e){Q(e.target.value)})}),isNaN(_)?"Failed to fetch current price":r.a.createElement("button",{type:"submit"},"Buy Shares!"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),a({stockSymbol:k,stockName:x,currentPrice:_})}},"Add to Watchlist"))):r.a.createElement("div",{className:"centered middled"},r.a.createElement("b",null,"Invalid symbol. Try again.")))},be=function(){var e=Object(l.b)();return r.a.createElement(pe,{createPosition:function(t){return e(_(t))},createWatchedStock:function(t){return e((a=t,function(){var e=Object(f.a)(d.a.mark((function e(t,n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),c=r.authentication.token,e.next=3,fetch("".concat(b,"/watchlist"),{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(a)});case 3:e.sent.ok&&t(U());case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var a},hideForm:function(){return e({type:"HIDE_FORM"})}})},he=function(){var e=Object(n.useContext)(fe),t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"App"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setSearchQuery(c)},className:"search-form"},r.a.createElement("input",{className:"search-bar",placeholder:"Search Stock Symbol",type:"text",value:c,onChange:function(e){o(e.target.value.toUpperCase())}})))},Ee=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(fe.Provider,{value:{searchQuery:a,setSearchQuery:c}},r.a.createElement(be,null),r.a.createElement(he,null))},ve=function(e){var t=e.positions,a=(e.formVisible,e.watchedStocks),c=Object(l.b)();Object(n.useEffect)((function(){c(A())}),[c]),Object(n.useEffect)((function(){c(U())}),[c]),Object(n.useEffect)((function(){c(R())}),[c]);var o=Object(s.g)().id,i=Number.parseInt(o);return t&&a?r.a.createElement("main",null,r.a.createElement(N,null),r.a.createElement("nav",null,r.a.createElement(s.d,null,r.a.createElement(Ee,null)),r.a.createElement("div",{className:"sidebar-label"},"Stocks"),t.map((function(e){return r.a.createElement(u.c,{key:e.id,to:"/position/".concat(e.id)},r.a.createElement("div",{className:i===e.id?"nav-entry is-selected":"nav-entry"},r.a.createElement("div",{className:"randomizer"},(3*Math.random()+1).toFixed(2)*(2*Math.round(Math.random())-1),"%"),r.a.createElement("div",null,r.a.createElement("div",{className:"primary-text"},e.stockName),r.a.createElement("div",{className:"secondary-text"},e.shares," share",1===e.shares?"":"s"," at $",e.currentPrice))))})),r.a.createElement("div",{className:"sidebar-label"},"Watchlist"),a.map((function(e){return r.a.createElement(u.c,{key:e.id,to:"/watchlist/".concat(e.id)},r.a.createElement("div",{className:i===e.id?"nav-entry is-selected":"nav-entry"},r.a.createElement("div",{className:"randomizer"},(3*Math.random()+1).toFixed(2)*(2*Math.round(Math.random())-1),"%"),r.a.createElement("div",null,r.a.createElement("div",{className:"primary-text"},e.stockName),r.a.createElement("div",{className:"secondary-text"},r.a.createElement("span",{onClick:Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(z(e.id));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},"Delete")))))}))),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/watchlist/:id",render:function(e){return r.a.createElement(de,e)}}),r.a.createElement(s.b,{exact:!0,path:"/position/:id",render:function(e){return r.a.createElement(K,e)}}),r.a.createElement(s.b,{exact:!0,path:"/",component:ue}))):null},Oe=function(){var e=Object(l.c)((function(e){return Object.values(e.positions)})),t=Object(l.c)((function(e){return Object.values(e.watchedStocks)})),a=Object(l.c)((function(e){return Object.values(e.history)})),n=Object(l.b)();return r.a.createElement(ve,{positions:e,watchedStocks:t,history:a,exitWatchedStock:function(e){return n(z(e))}})},je=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(i.a)(o,2),m=s[0],p=s[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),E=h[0],v=h[1],j=Object(n.useState)(""),y=Object(i.a)(j,2),g=y[0],k=y[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),x=N[0],P=N[1],C=Object(l.b)(),T=function(e){return function(t){e(t.target.value)}},F=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={name:a,email:m,cashValue:E,password:g,confirmPassword:x},e.next=4,C(O(n));case 4:return r={deposit:E},e.next=8,C(I(r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"centered middled"},r.a.createElement("img",{src:S.a,alt:"img"}),r.a.createElement("form",{onSubmit:F},r.a.createElement("input",{type:"text",placeholder:"Full Name",value:a,onChange:T(c),required:!0}),r.a.createElement("input",{type:"email",placeholder:"Email",value:m,onChange:T(p),required:!0}),r.a.createElement("input",{type:"number",placeholder:"Deposit Amount",required:!0,value:E,onChange:T(v)}),r.a.createElement("input",{type:"password",placeholder:"Password",value:g,onChange:T(k)}),r.a.createElement("input",{type:"password",placeholder:"Confirm Password",value:x,onChange:T(P)}),r.a.createElement("button",{type:"submit"},"Sign Up"),r.a.createElement(u.b,{to:"/login"},r.a.createElement("button",{type:"button"},"Log in"))))},ye=function(e){return r.a.createElement("h1",null,"Page not found")},ge=function(e){var t=e.needLogin,a=e.loadToken,c=Object(n.useState)(!1),o=Object(i.a)(c,2),l=o[0],m=o[1];return Object(n.useEffect)((function(){m(!0),a()}),[]),l?r.a.createElement(u.a,null,r.a.createElement(s.d,null,r.a.createElement(g,{path:"/login",exact:!0,needLogin:t,component:w}),r.a.createElement(g,{path:"/signup",exact:!0,needLogin:t,component:je}),r.a.createElement(y,{path:"/",needLogin:t,component:Oe}),r.a.createElement(y,{path:"/search",needLogin:t,component:be}),r.a.createElement(s.b,{path:"*",component:ye}),r.a.createElement(s.a,{to:"/"}))):null},ke=function(){var e=Object(l.c)((function(e){return!e.authentication.token})),t=Object(l.b)();return r.a.createElement(ge,{needLogin:e,loadToken:function(){return t(function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=window.localStorage.getItem("TOKEN_KEY"))&&t(E(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})},Se=a(48),we=a(150),Ne=a(16);var xe=a(20),Pe=a(25),Ce=a(55),Te=a.n(Ce);var Fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Se.d,_e=Object(Se.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return Object(Ne.a)(Object(Ne.a)({},e),{},{token:t.token});case"REMOVE_TOKEN":var a=Object(Ne.a)({},e);return delete a.token,a;default:return e}},positions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"LOAD":var a=t.list.map((function(e){return Object(Pe.a)({},e.id,e)}));return Te.a.apply(void 0,[{},e].concat(Object(xe.a)(a)));case"SET_CURRENT":return Object(Ne.a)(Object(Ne.a)({},e),{},Object(Pe.a)({},t.current.id,t.current));case"EXIT":var n=Object(Ne.a)({},e);return delete n[t.current.id],Object(Ne.a)({},n);default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{formVisible:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HIDE_FORM":return Object(Ne.a)(Object(Ne.a)({},e),{},{formVisible:!1});case"SHOW_FORM":return Object(Ne.a)(Object(Ne.a)({},e),{},{formVisible:!0});default:return e}},currentPosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT":return t.current.id;default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(Ne.a)(Object(Ne.a)({},e),{},{currentUser:t.id});default:return e}},watchedStocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"LOAD_WATCHED":var a=t.watchedList.map((function(e){return Object(Pe.a)({},e.id,e)}));return Te.a.apply(void 0,[{},e].concat(Object(xe.a)(a)));case"EXIT_WATCHED":var n=Object(Ne.a)({},e);return delete n[t.current.id],Object(Ne.a)({},n);default:return e}},currentWatchedStock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_WATCHED_STOCK":return t.current.id;default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"LOAD_HISTORY":var a=t.historyList.map((function(e){return Object(Pe.a)({},e.id,e)}));return Te.a.apply(void 0,[{},e].concat(Object(xe.a)(a)));default:return e}}}),Ae=function(e){return Object(Se.e)(_e,e,Fe(Object(Se.a)(we.a)))}();o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:Ae},r.a.createElement(ke,null))),document.getElementById("root"))},82:function(e,t,a){e.exports=a.p+"static/media/leaf-clipart-12-transparent.49990580.png"}},[[165,1,2]]]);
//# sourceMappingURL=main.36dc54b1.chunk.js.map